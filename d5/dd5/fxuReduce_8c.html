<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>abc-master: fxuReduce.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">abc-master
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/dd5/fxuReduce_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fxuReduce.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dd/dad/abc_8h_source.html">base/abc/abc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../de/dce/fxuInt_8h_source.html">fxuInt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d4/d71/fxu_8h_source.html">fxu.h</a>&quot;</code><br/>
</div>
<p><a href="../../d5/dd5/fxuReduce_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1545942f647511627f756093adb1221b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/d4f/abc__global_8h.html#a1de1d4722f546a32f88cb6b52ace2f3c">ABC_NAMESPACE_IMPL_START</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd5/fxuReduce_8c.html#a1545942f647511627f756093adb1221b">Fxu_CountPairDiffs</a> (char *pCover, unsigned char pDiffs[])</td></tr>
<tr class="memdesc:a1545942f647511627f756093adb1221b"><td class="mdescLeft">&#160;</td><td class="mdescRight">DECLARATIONS ///.  <a href="#a1545942f647511627f756093adb1221b">More...</a><br/></td></tr>
<tr class="separator:a1545942f647511627f756093adb1221b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b30d585111354f84125eeb243ddd00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dd5/fxuReduce_8c.html#a64b30d585111354f84125eeb243ddd00">Fxu_PreprocessCubePairs</a> (<a class="el" href="../../de/dce/fxuInt_8h.html#a946a70732c69f32663f1bbf6e1aa4e3e">Fxu_Matrix</a> *<a class="el" href="../../d9/d57/llb3Image_8c.html#a8c3079e855d52567de3249cc3a142d9e">p</a>, <a class="el" href="../../d0/deb/vecPtr_8h.html#a87c74c34059b6225de6cfa694995cf1d">Vec_Ptr_t</a> *vCovers, int nPairsTotal, int nPairsMax)</td></tr>
<tr class="memdesc:a64b30d585111354f84125eeb243ddd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">FUNCTION DEFINITIONS ///.  <a href="#a64b30d585111354f84125eeb243ddd00">More...</a><br/></td></tr>
<tr class="separator:a64b30d585111354f84125eeb243ddd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1545942f647511627f756093adb1221b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Fxu_CountPairDiffs </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pCover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pDiffs</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DECLARATIONS ///. </p>
<p>CFile****************************************************************</p>
<p>FileName [<a class="el" href="../../d5/dd5/fxuReduce_8c.html">fxuReduce.c</a>]</p>
<p>PackageName [MVSIS 2.0: Multi-valued logic synthesis system.]</p>
<p>Synopsis [Procedures to reduce the number of considered cube pairs.]</p>
<p>Author [MVSIS Group]</p>
<p>Affiliation [UC Berkeley]</p>
<p>Date [Ver. 1.0. Started - February 1, 2003.]</p>
<p>Revision [</p>
<dl class="section rcs"><dt>Id:</dt><dd><a class="el" href="../../d5/dd5/fxuReduce_8c.html">fxuReduce.c</a>,v 1.0 2003/02/01 00:00:00 alanmi Exp </dd></dl>
<p>]</p>
<p>Function*************************************************************</p>
<p>Synopsis [Counts the differences in each cube pair in the cover.]</p>
<p>Description [Takes the cover (pCover) and the array where the diff counters go (pDiffs). The array pDiffs should have as many entries as there are different pairs of cubes in the cover: n(n-1)/2. Fills out the array pDiffs with the following info: For each cube pair, included in the array is the number of literals in both cubes after they are made cube free.]</p>
<p>SideEffects []</p>
<p>SeeAlso [] </p>

<p>Definition at line <a class="el" href="../../d5/dd5/fxuReduce_8c_source.html#l00188">188</a> of file <a class="el" href="../../d5/dd5/fxuReduce_8c_source.html">fxuReduce.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">char</span> * pCube1, * pCube2;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> nOnes, nCubePairs, nFanins, v;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    nCubePairs = 0;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    nFanins = <a class="code" href="../../dd/dad/abc_8h.html#ab2f5e0c1b1c6103f94cac73cc34222c1">Abc_SopGetVarNum</a>(pCover);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../dd/dad/abc_8h.html#a99dce9beaf65ddd63f85bbde6b414d32">Abc_SopForEachCube</a>( pCover, nFanins, pCube1 )</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="../../dd/dad/abc_8h.html#a99dce9beaf65ddd63f85bbde6b414d32">Abc_SopForEachCube</a>( pCube1, nFanins, pCube2 )</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> ( pCube1 == pCube2 )</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        nOnes = 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">for</span> ( v = 0; v &lt; nFanins; v++ )</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            nOnes += (pCube1[v] != pCube2[v]);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        pDiffs[nCubePairs++] = nOnes;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="ttc" id="abc_8h_html_a99dce9beaf65ddd63f85bbde6b414d32"><div class="ttname"><a href="../../dd/dad/abc_8h.html#a99dce9beaf65ddd63f85bbde6b414d32">Abc_SopForEachCube</a></div><div class="ttdeci">#define Abc_SopForEachCube(pSop, nFanins, pCube)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/abc_8h_source.html#l00531">abc.h:531</a></div></div>
<div class="ttc" id="abc_8h_html_ab2f5e0c1b1c6103f94cac73cc34222c1"><div class="ttname"><a href="../../dd/dad/abc_8h.html#ab2f5e0c1b1c6103f94cac73cc34222c1">Abc_SopGetVarNum</a></div><div class="ttdeci">ABC_DLL int Abc_SopGetVarNum(char *pSop)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/abcSop_8c_source.html#l00536">abcSop.c:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a64b30d585111354f84125eeb243ddd00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Fxu_PreprocessCubePairs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dce/fxuInt_8h.html#a946a70732c69f32663f1bbf6e1aa4e3e">Fxu_Matrix</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/deb/vecPtr_8h.html#a87c74c34059b6225de6cfa694995cf1d">Vec_Ptr_t</a> *&#160;</td>
          <td class="paramname"><em>vCovers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nPairsTotal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nPairsMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FUNCTION DEFINITIONS ///. </p>
<p>Function*************************************************************</p>
<p>Synopsis [Precomputes the pairs to use for creating two-cube divisors.]</p>
<p>Description [This procedure takes the matrix with variables and cubes allocated (p), the original covers of the nodes (i-sets) and their number (ppCovers,nCovers). The maximum number of pairs to compute and the total number of pairs in existence. This procedure adds to the storage of divisors exactly the given number of pairs (nPairsMax) while taking first those pairs that have the smallest number of literals in their cube-free form.]</p>
<p>SideEffects []</p>
<p>SeeAlso [] </p>

<p>Definition at line <a class="el" href="../../d5/dd5/fxuReduce_8c_source.html#l00053">53</a> of file <a class="el" href="../../d5/dd5/fxuReduce_8c_source.html">fxuReduce.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pnLitsDiff;   <span class="comment">// storage for the counters of diff literals</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">int</span> * pnPairCounters;         <span class="comment">// the counters of pairs for each number of diff literals</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../df/d1e/structFxuCube.html">Fxu_Cube</a> * pCubeFirst, * pCubeLast;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="../../df/d1e/structFxuCube.html">Fxu_Cube</a> * pCube1, * pCube2;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../d3/d7b/structFxuVar.html">Fxu_Var</a> * pVar;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">int</span> nCubes, nBitsMax, nSum;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> CutOffNum = -1, CutOffQuant = -1; <span class="comment">// Suppress &quot;might be used uninitialized&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">int</span> iPair, iQuant, k, c;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//    abctime clk = Abc_Clock();</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">char</span> * pSopCover;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">int</span> nFanins;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( nPairsMax &lt; nPairsTotal );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// allocate storage for counter of diffs</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    pnLitsDiff = <a class="code" href="../../d7/d4f/abc__global_8h.html#a4aaf2af92e72ab6ea336d163c88dd6e3">ABC_FALLOC</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>, nPairsTotal );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// go through the covers and precompute the distances between the pairs</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    iPair    =  0;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    nBitsMax = -1;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">for</span> ( c = 0; c &lt; vCovers-&gt;nSize; c++ )</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span> ( (pSopCover = (<span class="keywordtype">char</span> *)vCovers-&gt;pArray[c]) )</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            nFanins = <a class="code" href="../../dd/dad/abc_8h.html#ab2f5e0c1b1c6103f94cac73cc34222c1">Abc_SopGetVarNum</a>(pSopCover);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="comment">// precompute the differences</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="../../d5/dd5/fxuReduce_8c.html#a1545942f647511627f756093adb1221b">Fxu_CountPairDiffs</a>( pSopCover, pnLitsDiff + iPair );</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="comment">// update the counter</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            nCubes = <a class="code" href="../../dd/dad/abc_8h.html#adace4fe0187032ba0a57f76bbe0d9592">Abc_SopGetCubeNum</a>( pSopCover );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            iPair += nCubes * (nCubes - 1) / 2;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">if</span> ( nBitsMax &lt; nFanins )</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                nBitsMax = nFanins;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( iPair == nPairsTotal );</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// allocate storage for counters of cube pairs by difference</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    pnPairCounters = <a class="code" href="../../d7/d4f/abc__global_8h.html#a4aaf2af92e72ab6ea336d163c88dd6e3">ABC_FALLOC</a>( <span class="keywordtype">int</span>, 2 * nBitsMax );</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a311babf232e543aa49200c238d683486">memset</a>( pnPairCounters, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * 2 * nBitsMax );</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// count the number of different pairs</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">for</span> ( k = 0; k &lt; nPairsTotal; k++ )</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        pnPairCounters[ pnLitsDiff[k] ]++;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// determine what pairs to take starting from the lower</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// so that there would be exactly pPairsMax pairs</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> ( pnPairCounters[0] != 0 )</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnLitsDiff );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnPairCounters );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        printf( <span class="stringliteral">&quot;The SOPs of the nodes contain duplicated cubes. Run \&quot;bdd; sop\&quot; before \&quot;fx\&quot;.\n&quot;</span> );</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> ( pnPairCounters[1] != 0 )</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnLitsDiff );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnPairCounters );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        printf( <span class="stringliteral">&quot;The SOPs of the nodes are not SCC-free. Run \&quot;bdd; sop\&quot; before \&quot;fx\&quot;.\n&quot;</span> );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( pnPairCounters[0] == 0 ); <span class="comment">// otherwise, covers are not dup-free</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( pnPairCounters[1] == 0 ); <span class="comment">// otherwise, covers are not SCC-free</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    nSum = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">for</span> ( k = 0; k &lt; 2 * nBitsMax; k++ )</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        nSum += pnPairCounters[k];</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> ( nSum &gt;= nPairsMax )</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            CutOffNum   = k;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            CutOffQuant = pnPairCounters[k] - (nSum - nPairsMax);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnPairCounters );</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// set to 0 all the pairs above the cut-off number and quantity</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    iQuant = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    iPair  = 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">for</span> ( k = 0; k &lt; nPairsTotal; k++ )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span> ( pnLitsDiff[k] &gt; CutOffNum ) </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            pnLitsDiff[k] = 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pnLitsDiff[k] == CutOffNum )</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">if</span> ( iQuant++ &gt;= CutOffQuant )</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                pnLitsDiff[k] = 0;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                iPair++;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            iPair++;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( iPair == nPairsMax );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// collect the corresponding pairs and add the divisors</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    iPair = 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span> ( c = 0; c &lt; vCovers-&gt;nSize; c++ )</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> ( (pSopCover = (<span class="keywordtype">char</span> *)vCovers-&gt;pArray[c]) )</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="comment">// get the var</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            pVar = <a class="code" href="../../d9/d57/llb3Image_8c.html#a8c3079e855d52567de3249cc3a142d9e">p</a>-&gt;ppVars[2*c+1];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="comment">// get the first cube</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            pCubeFirst = pVar-&gt;<a class="code" href="../../d3/d7b/structFxuVar.html#add0505bef34f368285a07ef41f6ba57d">pFirst</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">// get the last cube</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            pCubeLast = pCubeFirst;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">for</span> ( k = 0; k &lt; pVar-&gt;<a class="code" href="../../d3/d7b/structFxuVar.html#a03f1e9556fa6837ac4b6d8d7d1cad75e">nCubes</a>; k++ )</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                pCubeLast = pCubeLast-&gt;<a class="code" href="../../df/d1e/structFxuCube.html#a7771639ad9b4e5c99bfd51cfd852076a">pNext</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( pCubeLast == NULL || pCubeLast-&gt;<a class="code" href="../../df/d1e/structFxuCube.html#ac0b427eb0a28e20c0e78e8671d849419">pVar</a> != pVar );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="comment">// go through the cube pairs</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">for</span> ( pCube1 = pCubeFirst; pCube1 != pCubeLast; pCube1 = pCube1-&gt;<a class="code" href="../../df/d1e/structFxuCube.html#a7771639ad9b4e5c99bfd51cfd852076a">pNext</a> )</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">for</span> ( pCube2 = pCube1-&gt;<a class="code" href="../../df/d1e/structFxuCube.html#a7771639ad9b4e5c99bfd51cfd852076a">pNext</a>; pCube2 != pCubeLast; pCube2 = pCube2-&gt;<a class="code" href="../../df/d1e/structFxuCube.html#a7771639ad9b4e5c99bfd51cfd852076a">pNext</a> )</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">if</span> ( pnLitsDiff[iPair++] )</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    {   <span class="comment">// create the divisors for this pair</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <a class="code" href="../../de/dce/fxuInt_8h.html#ac3e99cbbf02f5d0f17d0381c741864ff">Fxu_MatrixAddDivisor</a>( <a class="code" href="../../d9/d57/llb3Image_8c.html#a8c3079e855d52567de3249cc3a142d9e">p</a>, pCube1, pCube2 );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>( iPair == nPairsTotal );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a>( pnLitsDiff );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">//ABC_PRT( &quot;Preprocess&quot;, Abc_Clock() - clk );</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="util__old_8h_html_a311babf232e543aa49200c238d683486"><div class="ttname"><a href="../../d8/d40/util__old_8h.html#a311babf232e543aa49200c238d683486">memset</a></div><div class="ttdeci">char * memset()</div></div>
<div class="ttc" id="structFxuVar_html_a03f1e9556fa6837ac4b6d8d7d1cad75e"><div class="ttname"><a href="../../d3/d7b/structFxuVar.html#a03f1e9556fa6837ac4b6d8d7d1cad75e">FxuVar::nCubes</a></div><div class="ttdeci">int nCubes</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00216">fxuInt.h:216</a></div></div>
<div class="ttc" id="structFxuVar_html"><div class="ttname"><a href="../../d3/d7b/structFxuVar.html">FxuVar</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00213">fxuInt.h:213</a></div></div>
<div class="ttc" id="llb3Image_8c_html_a8c3079e855d52567de3249cc3a142d9e"><div class="ttname"><a href="../../d9/d57/llb3Image_8c.html#a8c3079e855d52567de3249cc3a142d9e">p</a></div><div class="ttdeci">static Llb_Mgr_t * p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d57/llb3Image_8c_source.html#l00950">llb3Image.c:950</a></div></div>
<div class="ttc" id="fxuInt_8h_html_ac3e99cbbf02f5d0f17d0381c741864ff"><div class="ttname"><a href="../../de/dce/fxuInt_8h.html#ac3e99cbbf02f5d0f17d0381c741864ff">Fxu_MatrixAddDivisor</a></div><div class="ttdeci">void Fxu_MatrixAddDivisor(Fxu_Matrix *p, Fxu_Cube *pCube1, Fxu_Cube *pCube2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd0/fxuMatrix_8c_source.html#l00301">fxuMatrix.c:301</a></div></div>
<div class="ttc" id="abc_8h_html_adace4fe0187032ba0a57f76bbe0d9592"><div class="ttname"><a href="../../dd/dad/abc_8h.html#adace4fe0187032ba0a57f76bbe0d9592">Abc_SopGetCubeNum</a></div><div class="ttdeci">ABC_DLL int Abc_SopGetCubeNum(char *pSop)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/abcSop_8c_source.html#l00489">abcSop.c:489</a></div></div>
<div class="ttc" id="structFxuCube_html_ac0b427eb0a28e20c0e78e8671d849419"><div class="ttname"><a href="../../df/d1e/structFxuCube.html#ac0b427eb0a28e20c0e78e8671d849419">FxuCube::pVar</a></div><div class="ttdeci">Fxu_Var * pVar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00205">fxuInt.h:205</a></div></div>
<div class="ttc" id="structFxuVar_html_add0505bef34f368285a07ef41f6ba57d"><div class="ttname"><a href="../../d3/d7b/structFxuVar.html#add0505bef34f368285a07ef41f6ba57d">FxuVar::pFirst</a></div><div class="ttdeci">Fxu_Cube * pFirst</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00217">fxuInt.h:217</a></div></div>
<div class="ttc" id="structFxuCube_html_a7771639ad9b4e5c99bfd51cfd852076a"><div class="ttname"><a href="../../df/d1e/structFxuCube.html#a7771639ad9b4e5c99bfd51cfd852076a">FxuCube::pNext</a></div><div class="ttdeci">Fxu_Cube * pNext</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00208">fxuInt.h:208</a></div></div>
<div class="ttc" id="abc__global_8h_html_ae8a2b9b063fa2a31153533cd0f998e7d"><div class="ttname"><a href="../../d7/d4f/abc__global_8h.html#ae8a2b9b063fa2a31153533cd0f998e7d">ABC_FREE</a></div><div class="ttdeci">#define ABC_FREE(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4f/abc__global_8h_source.html#l00232">abc_global.h:232</a></div></div>
<div class="ttc" id="structFxuCube_html"><div class="ttname"><a href="../../df/d1e/structFxuCube.html">FxuCube</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dce/fxuInt_8h_source.html#l00201">fxuInt.h:201</a></div></div>
<div class="ttc" id="abc_8h_html_ab2f5e0c1b1c6103f94cac73cc34222c1"><div class="ttname"><a href="../../dd/dad/abc_8h.html#ab2f5e0c1b1c6103f94cac73cc34222c1">Abc_SopGetVarNum</a></div><div class="ttdeci">ABC_DLL int Abc_SopGetVarNum(char *pSop)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/abcSop_8c_source.html#l00536">abcSop.c:536</a></div></div>
<div class="ttc" id="util__old_8h_html_a07d17d6d5d1074c0969bc5d3c3d1d84a"><div class="ttname"><a href="../../d8/d40/util__old_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a></div><div class="ttdeci">#define assert(ex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d40/util__old_8h_source.html#l00213">util_old.h:213</a></div></div>
<div class="ttc" id="fxuReduce_8c_html_a1545942f647511627f756093adb1221b"><div class="ttname"><a href="../../d5/dd5/fxuReduce_8c.html#a1545942f647511627f756093adb1221b">Fxu_CountPairDiffs</a></div><div class="ttdeci">static ABC_NAMESPACE_IMPL_START int Fxu_CountPairDiffs(char *pCover, unsigned char pDiffs[])</div><div class="ttdoc">DECLARATIONS ///. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd5/fxuReduce_8c_source.html#l00188">fxuReduce.c:188</a></div></div>
<div class="ttc" id="abc__global_8h_html_a4aaf2af92e72ab6ea336d163c88dd6e3"><div class="ttname"><a href="../../d7/d4f/abc__global_8h.html#a4aaf2af92e72ab6ea336d163c88dd6e3">ABC_FALLOC</a></div><div class="ttdeci">#define ABC_FALLOC(type, num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4f/abc__global_8h_source.html#l00231">abc_global.h:231</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_71553c93ca779327a2e9b9bdf1e6160d.html">opt</a></li><li class="navelem"><a class="el" href="../../dir_1673f2b228fee2a65b4a32697c875114.html">fxu</a></li><li class="navelem"><a class="el" href="../../d5/dd5/fxuReduce_8c.html">fxuReduce.c</a></li>
    <li class="footer">Generated on Thu Dec 18 2014 16:12:11 for abc-master by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
